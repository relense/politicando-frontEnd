{"ast":null,"code":"import * as types from './actionTypes';\nexport function receiveParties(json) {\n  return {\n    type: types.RECEIVE_PARTIES,\n    parties: json.parties\n  };\n}\nexport function fetchParties() {\n  return function (dispatch) {\n    fetch('http://localhost:4000/partidos', {\n      method: 'GET',\n      mode: 'no-cors',\n      credentials: 'include',\n      cache: 'no-cache',\n      headers: {\n        'content-type': 'application/json',\n        'Accept': 'application/json',\n        'Access-Control-Allow-Credentials': true,\n        'Access-Control-Allow-Origin': true\n      }\n    }).then(function (response) {\n      return response.json().then(function (data) {\n        return {\n          data: data,\n          status: response.status\n        };\n      });\n    }).then(function (response) {\n      if (response.status === 200) {\n        dispatch(receiveParties(response.data));\n      } else {\n        var flash = {\n          type: 'error',\n          title: 'Error getting task list',\n          content: 'There was an error getting the task list. Please try again.'\n        };\n        dispatch({\n          type: \"DISPLAY_FLASH\",\n          data: flash\n        });\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/miguelfurtado/Documents/Projetos/politicando/policando-frontend/src/actions/partiesActions.js"],"names":["types","receiveParties","json","type","RECEIVE_PARTIES","parties","fetchParties","dispatch","fetch","method","mode","credentials","cache","headers","then","response","data","status","flash","title","content"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,eAAvB;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AACnC,SAAO;AAAEC,IAAAA,IAAI,EAAEH,KAAK,CAACI,eAAd;AAA+BC,IAAAA,OAAO,EAAEH,IAAI,CAACG;AAA7C,GAAP;AACD;AAED,OAAO,SAASC,YAAT,GAAwB;AAC3B,SAAO,UAACC,QAAD,EAAc;AACjBC,IAAAA,KAAK,CAAC,gCAAD,EAAmC;AACtCC,MAAAA,MAAM,EAAE,KAD8B;AAEtCC,MAAAA,IAAI,EAAE,SAFgC;AAGtCC,MAAAA,WAAW,EAAE,SAHyB;AAItCC,MAAAA,KAAK,EAAE,UAJ+B;AAKtCC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,kBAAU,kBAFH;AAGP,4CAAmC,IAH5B;AAIP,uCAA8B;AAJvB;AAL6B,KAAnC,CAAL,CAWGC,IAXH,CAWQ,UAAAC,QAAQ;AAAA,aACVA,QAAQ,CAACb,IAAT,GAAgBY,IAAhB,CAAqB,UAAAE,IAAI;AAAA,eAAK;AAC1BA,UAAAA,IAAI,EAAEA,IADoB;AAE1BC,UAAAA,MAAM,EAAEF,QAAQ,CAACE;AAFS,SAAL;AAAA,OAAzB,CADU;AAAA,KAXhB,EAiBGH,IAjBH,CAiBQ,UAAAC,QAAQ,EAAI;AACd,UAAGA,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA2B;AACvBV,QAAAA,QAAQ,CAACN,cAAc,CAACc,QAAQ,CAACC,IAAV,CAAf,CAAR;AACH,OAFD,MAEK;AACD,YAAIE,KAAK,GAAG;AACRf,UAAAA,IAAI,EAAE,OADE;AAERgB,UAAAA,KAAK,EAAE,yBAFC;AAGRC,UAAAA,OAAO,EAAE;AAHD,SAAZ;AAKAb,QAAAA,QAAQ,CAAC;AAACJ,UAAAA,IAAI,EAAE,eAAP;AAAwBa,UAAAA,IAAI,EAAEE;AAA9B,SAAD,CAAR;AACH;AACJ,KA5BH;AA6BH,GA9BD;AA+BH","sourcesContent":["import * as types from './actionTypes';\n\nexport function receiveParties(json) {\n  return { type: types.RECEIVE_PARTIES, parties: json.parties };\n}\n\nexport function fetchParties() {\n    return (dispatch) => {\n        fetch('http://localhost:4000/partidos', {\n          method: 'GET',\n          mode: 'no-cors',\n          credentials: 'include',\n          cache: 'no-cache',\n          headers: {\n            'content-type': 'application/json',\n            'Accept': 'application/json',\n            'Access-Control-Allow-Credentials':true,\n            'Access-Control-Allow-Origin':true\n        }})\n          .then(response =>\n              response.json().then(data => ({\n                  data: data,\n                  status: response.status\n              }))\n          )\n          .then(response => {\n              if(response.status === 200){\n                  dispatch(receiveParties(response.data))\n              }else{\n                  var flash = {\n                      type: 'error',\n                      title: 'Error getting task list',\n                      content: 'There was an error getting the task list. Please try again.'\n                  }\n                  dispatch({type: \"DISPLAY_FLASH\", data: flash})\n              }\n          });\n    };\n}\n"]},"metadata":{},"sourceType":"module"}